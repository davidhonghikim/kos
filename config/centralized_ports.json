{
  "metadata": {
    "title": "kOS Centralized Port and IP Management",
    "version": "1.0.0",
    "description": "Centralized configuration for all service ports, IPs, and network settings",
    "last_updated": "2025-07-09T22:30:00Z",
    "notes": "All ports and IPs must be managed here - no hardcoded values in docker-compose.yml or other files"
  },
  "network_config": {
    "default_host": "localhost",
    "container_network": "kos-network",
    "internal_domain": "kos.local"
  },
  "port_ranges": {
    "core_services": {
      "start": 8000,
      "end": 8099,
      "description": "Core kOS services (API, Frontend, etc.)"
    },
    "databases": {
      "start": 5432,
      "end": 5499,
      "description": "Database services (PostgreSQL, Redis, Neo4j)"
    },
    "development": {
      "start": 3000,
      "end": 3099,
      "description": "Development tools and interfaces"
    },
    "monitoring": {
      "start": 9000,
      "end": 9099,
      "description": "Monitoring and observability tools"
    },
    "security": {
      "start": 8200,
      "end": 8299,
      "description": "Security and authentication services"
    },
    "storage": {
      "start": 9200,
      "end": 9299,
      "description": "Storage and file management services"
    }
  },
  "services": {
    "core": {
      "kos-backend": {
        "external_port": 8000,
        "internal_port": 8000,
        "host": "localhost",
        "container_host": "kos-backend",
        "description": "kOS Backend API",
        "protocol": "http",
        "health_check": "/health",
        "dependencies": ["kos-postgres", "kos-redis", "kos-neo4j"]
      },
      "kos-frontend": {
        "external_port": 3000,
        "internal_port": 3000,
        "host": "localhost",
        "container_host": "kos-frontend",
        "description": "kOS Frontend",
        "protocol": "http",
        "dependencies": ["kos-backend"]
      },
      "kos-nginx": {
        "external_port": 80,
        "internal_port": 80,
        "host": "localhost",
        "container_host": "kos-nginx",
        "description": "Nginx Reverse Proxy",
        "protocol": "http",
        "dependencies": ["kos-backend", "kos-frontend"]
      }
    },
    "databases": {
      "kos-postgres": {
        "external_port": 5432,
        "internal_port": 5432,
        "host": "localhost",
        "container_host": "kos-postgres",
        "description": "PostgreSQL Database",
        "protocol": "postgresql",
        "default_db": "kos_db",
        "default_user": "admin",
        "default_password": "admin123"
      },
      "kos-redis": {
        "external_port": 6379,
        "internal_port": 6379,
        "host": "localhost",
        "container_host": "kos-redis",
        "description": "Redis Cache",
        "protocol": "redis",
        "default_password": "admin123",
        "default_db": 0
      },
      "kos-neo4j": {
        "external_port": 7687,
        "internal_port": 7687,
        "host": "localhost",
        "container_host": "kos-neo4j",
        "description": "Neo4j Graph Database",
        "protocol": "bolt",
        "http_port": 7474,
        "http_internal_port": 7474,
        "default_user": "neo4j",
        "default_password": "admin123"
      }
    },
    "development": {
      "kos-gitea": {
        "external_port": 3002,
        "internal_port": 3000,
        "host": "localhost",
        "container_host": "kos-gitea",
        "description": "Gitea Git Hosting",
        "protocol": "http",
        "ssh_port": 2222,
        "ssh_internal_port": 22,
        "dependencies": ["kos-postgres"]
      },
      "kos-openwebui": {
        "external_port": 3001,
        "internal_port": 8080,
        "host": "localhost",
        "container_host": "kos-openwebui",
        "description": "OpenWebUI LLM Interface",
        "protocol": "http",
        "dependencies": ["kos-ollama"]
      },
      "kos-ollama": {
        "external_port": 11434,
        "internal_port": 11434,
        "host": "localhost",
        "container_host": "kos-ollama",
        "description": "Ollama Local LLMs",
        "protocol": "http"
      },
      "kos-supabase": {
        "external_port": 54321,
        "internal_port": 5432,
        "host": "localhost",
        "container_host": "kos-supabase",
        "description": "Supabase Local",
        "protocol": "postgresql",
        "studio_port": 3003,
        "studio_internal_port": 3000
      },
      "kos-browseruse": {
        "external_port": 3004,
        "internal_port": 3000,
        "host": "localhost",
        "container_host": "kos-browseruse",
        "description": "Browseruse",
        "protocol": "http"
      },
      "kos-context7": {
        "external_port": 3005,
        "internal_port": 3000,
        "host": "localhost",
        "container_host": "kos-context7",
        "description": "Context7",
        "protocol": "http"
      },
      "kos-codium": {
        "external_port": 3006,
        "internal_port": 8080,
        "host": "localhost",
        "container_host": "kos-codium",
        "description": "Codium with Copilot Local",
        "protocol": "http"
      }
    },
    "monitoring": {
      "kos-prometheus": {
        "external_port": 9090,
        "internal_port": 9090,
        "host": "localhost",
        "container_host": "kos-prometheus",
        "description": "Prometheus Monitoring",
        "protocol": "http"
      },
      "kos-grafana": {
        "external_port": 3007,
        "internal_port": 3000,
        "host": "localhost",
        "container_host": "kos-grafana",
        "description": "Grafana Dashboard",
        "protocol": "http",
        "dependencies": ["kos-prometheus"]
      }
    },
    "storage": {
      "kos-elasticsearch": {
        "external_port": 9200,
        "internal_port": 9200,
        "host": "localhost",
        "container_host": "kos-elasticsearch",
        "description": "Elasticsearch Search Engine",
        "protocol": "http"
      },
      "kos-weaviate": {
        "external_port": 8080,
        "internal_port": 8080,
        "host": "localhost",
        "container_host": "kos-weaviate",
        "description": "Weaviate Vector Database",
        "protocol": "http"
      },
      "kos-minio": {
        "external_port": 9000,
        "internal_port": 9000,
        "host": "localhost",
        "container_host": "kos-minio",
        "description": "MinIO Object Storage",
        "protocol": "http",
        "console_port": 9001,
        "console_internal_port": 9001
      }
    },
    "security": {
      "kos-vault": {
        "external_port": 8200,
        "internal_port": 8200,
        "host": "localhost",
        "container_host": "kos-vault",
        "description": "HashiCorp Vault",
        "protocol": "http"
      }
    },
    "managers": {
      "kos-prompt-manager": {
        "external_port": 3008,
        "internal_port": 8000,
        "host": "localhost",
        "container_host": "kos-prompt-manager",
        "description": "Prompt Manager",
        "protocol": "http"
      },
      "kos-artifact-manager": {
        "external_port": 3009,
        "internal_port": 8000,
        "host": "localhost",
        "container_host": "kos-artifact-manager",
        "description": "Artifact Manager",
        "protocol": "http"
      }
    }
  },
  "docker_images": {
    "kos-nginx": "nginx:alpine",
    "kos-postgres": "postgres:15-alpine",
    "kos-redis": "redis:7-alpine",
    "kos-neo4j": "neo4j:5.15",
    "kos-gitea": "gitea/gitea:latest",
    "kos-openwebui": "ghcr.io/open-webui/open-webui:main",
    "kos-ollama": "ollama/ollama:latest",
    "kos-supabase": "supabase/postgres:15.1.0.117",
    "kos-browseruse": "browseruse/browseruse:latest",
    "kos-context7": "context7/context7:latest",
    "kos-codium": "codium/codium:latest",
    "kos-prometheus": "prom/prometheus:latest",
    "kos-grafana": "grafana/grafana:latest",
    "kos-elasticsearch": "elasticsearch:8.11.0",
    "kos-weaviate": "semitechnologies/weaviate:1.22.4",
    "kos-minio": "minio/minio:latest",
    "kos-vault": "vault:latest"
  },
  "volumes": {
    "kos_postgres_data": "/var/lib/postgresql/data",
    "kos_redis_data": "/data",
    "kos_neo4j_data": "/data",
    "kos_neo4j_logs": "/logs",
    "kos_neo4j_import": "/var/lib/neo4j/import",
    "kos_neo4j_plugins": "/plugins",
    "kos_gitea_data": "/data",
    "kos_gitea_config": "/data/gitea/conf",
    "kos_openwebui_data": "/app/backend/data",
    "kos_ollama_data": "/root/.ollama",
    "kos_vault_data": "/vault/file",
    "kos_elasticsearch_data": "/usr/share/elasticsearch/data",
    "kos_weaviate_data": "/var/lib/weaviate",
    "kos_minio_data": "/data",
    "kos_prometheus_data": "/prometheus",
    "kos_grafana_data": "/var/lib/grafana"
  },
  "environment_variables": {
    "core": {
      "KOS_ENVIRONMENT": "development",
      "KOS_DEBUG": "true",
      "KOS_LOG_LEVEL": "debug"
    },
    "security": {
      "KOS_JWT_SECRET": "your-super-secret-jwt-key-change-this-in-production",
      "KOS_JWT_ALGORITHM": "HS256",
      "KOS_JWT_EXPIRATION": "3600",
      "KOS_JWT_REFRESH_EXPIRATION": "86400",
      "KOS_BCRYPT_ROUNDS": "12"
    },
    "cors": {
      "KOS_CORS_ORIGINS": "http://localhost:3000,http://localhost:3001,http://localhost:3002"
    }
  }
} 